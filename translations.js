// translations.js - Manejo de idiomas y traducciones

/***************/
// TRADUCCCIONES
/************* */

// ✅ Diccionario de traducciones
const translations = {
    en: {
        "logout": "Log out",
        "log-in-intra": "Log in with intra (42 School)",
        "profile-settings": "Profile Settings",
        "toggle-2fa": "Manage Two-Factor Authentication",
        "game-modes": "Game Modes",
        "blockchain-tournaments": "Blockchain Tournaments",
        "saved-tournaments": "Saved Tournaments",
        "search-tournaments": "Search by Tournament ID/Name",
        "login": "Log in",
        "log-in-email": "Log in with email",
        "sign-up": "Sign up",
        "forgot-password": "Forgot password?",
        "use-2fa": "Use two-factor authentication",
        "enter-email": "Enter your email:",
        "enter-password": "Enter your password:",
        "confirm-password": "Confirm password",
        "confirm-new-password": "Confirm new password",
        "enter-username": "Enter a username:",
        "new-username" : "New username:",
        "new-username-placeholder": "Enter new username",
        "confirm-2fa": "Do you want to enable two-factor authentication?",
        "2fa-message": "Do you want to enable two-factor authentication?",
        "enable-2fa": "✅ 2FA Enabled!",
        "disable-2fa": "❌ 2FA Disabled.",
        "login-success": "✅ Login successful!",
        "signup-success": "✅ Account created successfully!",
        "invalid-credentials": "❌ Invalid credentials.",
        "recovery-email-sent": "📩 Password recovery email has been sent.",
        "language": "Language",
        "edit-username": "Edit Username",
        "edit-username-placeholder": "New username",
        "edit-password": "Change Password",
        "edit-password-placeholder": "New password",
        "password-requirements": "The password must be at least 6 characters long, include an uppercase letter, and a number.",
        "password-too-short": "❌ The password must be at least 6 characters.",
        "password-no-uppercase": "❌ The password must include at least one uppercase letter.",
        "password-no-number": "❌ The password must include at least one number.",
        "confirm-password-empty": "❌ The field cannot be empty.",
        "confirm-password-mismatch": "❌ The passwords do not match.",
        "current-password": "Current Password",
        "new-password": "New Password",
        "confirm-change": "Confirm Change",
        "edit-email": "Change Email",
        "edit-email-placeholder": "New email",
        "save-button": "Save",
        "cancel-button": "Cancel",
        "empty-field-alert": "The field cannot be empty.",
        "solo-ai": "Solo vs AI",
        "local": "Local Multiplayer",
        "online": "Online Multiplayer",
        "create-tournament": "Create Tournament",
        "join-tournament": "Join Tournament",
        "change-avatar": "Change Avatar", /* Nueva traducción,elcambio de Avatar */
        "choose-file": "Choose file",
        "no-file-chosen": "No file chosen",
        "avatar-updated": "✅ Avatar updated successfully!",
        "error-loading-tournaments": "Error loading tournaments",
        "reset-password": "Reset Password",
        "manage-2fa": "Manage Two-Factor Authentication",
        "2fa-disabled": "Two-Factor Authentication disabled successfully.",
        "2fa-enabled": "Two-Factor Authentication enabled successfully.",
        "no-active-session": "No active session.",
        "invalid-credentials": "Invalid credentials.",
        "logout-completed": "Logout completed.",
        "password-changed": "Password changed successfully!",
        "update-profile": "Profile updated successfully!","validating-username": "Validating username...",
        "username-empty": "❌ Username cannot be empty.",
        "username-range": "❌ Username must be between 3 and 7 characters.",
        "username-updated": "✅ Username updated successfully!",
        "backend-error": "❌ Error from backend: ",
        "validating-username": "Validating username...",
        "username-empty": "❌ Username cannot be empty.",
        "username-range": "❌ Username must be between 3 and 7 characters.",
        "username-updated": "✅ Username updated successfully!",
        "backend-error": "❌ Error from backend: ",
        "email-invalid": "❌ Enter a valid email.",
        "password-invalid": "❌ Password must be at least 6 characters, with one uppercase letter and one number.",
        "password-mismatch": "❌ Passwords do not match.",
        "update-success": "✅ Changes saved successfully!",
        "update-failed": "❌ Could not save changes.",
        "username-too-long": "❌ Username must be a maximum of 7 characters.",
        "error-email-element-missing": "❌ ERROR: #emailError element not found in the DOM.",
        "email-invalid": "❌ Please enter a valid email.",
        "password-min-length": "❌ Password must be at least 6 characters.",
        "password-uppercase-required": "❌ Password must include at least one uppercase letter.",
        "password-number-required": "❌ Password must include at least one number.",
        "password-empty": "❌ The field cannot be empty.",
        "password-mismatch": "❌ Passwords do not match.",
        "username-max": "❌ Username must be a max. of 7 characters.",
        "email-invalid": "❌ Enter a valid email.",
        "password-requirements": "❌ Password must be at least 6 characters, with one uppercase letter and one number.",
        "password-confirm-empty": "❌ You must confirm the password.",
        "password-mismatch": "❌ Passwords do not match.",
        "sign-up-request": "🟢 Sending Sign Up request...",
        "sign-up-sending": "🔵 Sending Sign Up request for {username}...",
        "sign-up-success": "✅ Welcome, {username}! Your account has been created.",
        "sign-up-error": "❌ Error during Sign Up",
        "sign-up-fetch-error": "❌ Network error while signing up",
        "debug-login-email-found": "✅ Debug: confirmLoginEmail found",
        "email-invalid": "❌ Enter a valid email.",
        "password-too-short": "❌ Password must be at least 6 characters.",
        "sending-login-request": "🟢 Sending login request...",
        "invalid-credentials": "❌ Invalid credentials.",
        "username-empty": "❌ Username cannot be empty.",
        "username-range": "❌ Username must be between 3 and 7 characters.",
        "sending-profile-update": "🟢 Sending profile update request...",
        "profile-updated": "✅ Profile updated successfully!",
        "backend-error": "❌ Error from the server",
        "fetch-error": "❌ Network error while updating profile.",
        "activating-2fa": "🟢 Activating Two-Factor Authentication...",
        "2fa-enabled": "✅ 2FA enabled. Check your email or authentication app.",
        "backend-error": "❌ Error from the server",
        "fetch-error": "❌ Network error while enabling 2FA.",
        "tournament-name": "Tournament Name",
        "avatar-error": "Error updating avatar",
        "password-reset-email-sent": "Password reset email sent",
        "password-reset-error": "Error resetting password",
        "tournament-options": "Tournament Options",
        "join": "Join",
        "loginPasswordError": "Invalid password",
        "new-username": "New Username:",
        "loading": "Loading...",
        "password": "Password:",
        "back": "← Back"
    },
    es: {
        "logout": "Cerrar sesión",
        "log-in-intra": "Iniciar sesión con intra (42 School)",
        "profile-settings": "Configuración del perfil",
        "toggle-2fa": "Gestionar autenticación de dos factores",
        "game-modes": "Modos de juego",
        "blockchain-tournaments": "Torneos Blockchain",
        "saved-tournaments": "Torneos Guardados",
        "search-tournaments": "Buscar por ID/Nombre de Torneo",
        "login": "Iniciar sesión",
        "log-in-email": "Iniciar sesión con email",
        "sign-up": "Registrarse",
        "forgot-password": "¿Olvidaste tu contraseña?",
        "use-2fa": "Usar autenticación de dos pasos",
        "enter-email": "Ingrese su email:",
        "enter-password": "Ingrese su contraseña:",
        "enter-username": "Ingrese un nombre de usuario:",
        "new-username" : "Nuevo nombre de usuario:",
        "new-username-placeholder": "Ingrese un nuevo nombre de usuario",
        "confirm-2fa": "¿Quieres activar la autenticación en dos pasos?",
        "enable-2fa": "✅ 2FA Activado!",
        "disable-2fa": "❌ 2FA Desactivado.",
        "login-success": "✅ Inicio de sesión exitoso!",
        "signup-success": "✅ Cuenta creada con éxito!",
        "invalid-credentials": "❌ Credenciales incorrectas.",
        "recovery-email-sent": "📩 Se ha enviado el correo de recuperación.",
        "language": "Idioma",
        "username": "Nombre de usuario",
        "email": "Correo electrónico",
        "password": "Contraseña",
        "edit-profile": "Editar perfil",
        "edit-username": "Editar nombre de usuario",
        "edit-email": "Editar correo electrónico",
        "edit-password": "Editar contraseña",
        "solo-ai": "Solo contra IA",
        "local": "Uno contra Uno Local",
        "online": "Uno contra Uno Online",
        "create-tournament": "Crear Torneo",
        "join-tournament": "Unirse a Torneo",
        "edit-username": "Editar Nombre de Usuario",
        "edit-username-placeholder": "Nuevo nombre de usuario",
        "edit-password": "Cambiar Contraseña",
        "edit-password-placeholder": "Nueva contraseña",
        "confirm-password": "Confirmar contraseña",
        "confirm-new-password": "Confirmar la nueva contraseña",
        "password-requirements": "La contraseña debe tener al menos 6 caracteres, incluir una mayúscula y un número.",
        "password-too-short": "❌ La contraseña debe tener al menos 6 caracteres.",
        "password-no-uppercase": "❌ La contraseña debe incluir al menos una letra mayúscula.",
        "password-no-number": "❌ La contraseña debe incluir al menos un número.",
        "confirm-password-empty": "❌ El campo no puede estar vacío.",
        "confirm-password-mismatch": "❌ Las contraseñas no coinciden.",
        "current-password": "Contraseña actual",
        "new-password": "Nueva contraseña",
        "confirm-change": "Confirmar cambio",
        "2fa-message": "¿Quieres activar la autenticación en dos pasos?",
        "edit-email": "Cambiar Email",
        "edit-email-placeholder": "Nuevo email",
        "save-button": "Guardar",
        "cancel-button": "Cancelar",
        "empty-field-alert": "El campo no puede estar vacío.",
        "change-avatar": "Cambiar Avatar", /* Nuevo, del avatar */
        "choose-file": "Elegir archivo",
        "no-file-chosen": "Ningún archivo seleccionado",
        "avatar-updated": "✅ Avatar actualizado correctamente.",
        "error-loading-tournaments": "Error cargando torneos",
        "reset-password": "Restablecer Contraseña",
        "manage-2fa": "Administrar la autenticación en dos pasos",
        "2fa-disabled": "Autenticación en dos pasos desactivada correctamente.",
        "2fa-enabled": "Autenticación en dos pasos activada correctamente.",
        "no-active-session": "No hay sesión activa.",
        "invalid-credentials": "Credenciales inválidas.",
        "logout-completed": "Cierre de sesión completado.",
        "password-changed": "¡Contraseña cambiada correctamente!",
        "update-profile": "¡Perfil actualizado correctamente!",
        "validating-username": "Validando username...",
        "username-empty": "❌ El nombre de usuario no puede estar vacío.",
        "username-range": "❌ El nombre de usuario debe tener entre 3 y 7 caracteres.",
        "username-updated": "✅ ¡Nombre de usuario actualizado correctamente!",
        "backend-error": "❌ Error del backend: ",
        "validating-username": "Validando username...",
        "username-empty": "❌ El nombre de usuario no puede estar vacío.",
        "username-range": "❌ El nombre de usuario debe tener entre 3 y 7 caracteres.",
        "username-updated": "✅ ¡Nombre de usuario actualizado correctamente!",
        "backend-error": "❌ Error del backend: ",
        "email-invalid": "❌ Introduce un email válido.",
        "password-invalid": "❌ La contraseña debe tener al menos 6 caracteres, incluir una mayúscula y un número.",
        "password-mismatch": "❌ Las contraseñas no coinciden.",
        "update-success": "✅ ¡Cambios guardados correctamente!",
        "update-failed": "❌ No se pudieron guardar los cambios.",
        "username-too-long": "❌ El nombre de usuario debe tener un máximo de 7 caracteres.",
        "error-email-element-missing": "❌ ERROR: No se encontró el elemento #emailError en el DOM.",
        "email-invalid": "❌ Introduce un email válido.",
        "password-min-length": "❌ La contraseña debe tener al menos 6 caracteres.",
        "password-uppercase-required": "❌ La contraseña debe incluir al menos una letra mayúscula.",
        "password-number-required": "❌ La contraseña debe incluir al menos un número.",
        "password-empty": "❌ El campo no puede estar vacío.",
        "password-mismatch": "❌ Las contraseñas no coinciden.",
        "username-max": "❌ El nombre de usuario debe tener un máximo de 7 caracteres.",
        "email-invalid": "❌ Introduce un correo válido.",
        "password-requirements": "❌ La contraseña debe tener al menos 6 caracteres, incluir una mayúscula y un número.",
        "password-confirm-empty": "❌ Debes confirmar la contraseña.",
        "password-mismatch": "❌ Las contraseñas no coinciden.",
        "sign-up-request": "🟢 Enviando solicitud de registro...",
        "sign-up-sending": "🔵 Enviando solicitud de registro para {username}...",
        "sign-up-success": "✅ ¡Bienvenido, {username}! Tu cuenta ha sido creada.",
        "sign-up-error": "❌ Error durante el registro",
        "sign-up-fetch-error": "❌ Error de red al registrarse",
        "debug-login-email-found": "✅ Debug: confirmLoginEmail encontrado",
        "email-invalid": "❌ Introduce un email válido.",
        "password-too-short": "❌ La contraseña debe tener al menos 6 caracteres.",
        "sending-login-request": "🟢 Enviando solicitud de inicio de sesión...",
        "invalid-credentials": "❌ Credenciales inválidas.",
        "username-empty": "❌ El nombre de usuario no puede estar vacío.",
        "username-range": "❌ El nombre de usuario debe tener entre 3 y 7 caracteres.",
        "sending-profile-update": "🟢 Enviando solicitud de actualización de perfil...",
        "profile-updated": "✅ Perfil actualizado correctamente.",
        "backend-error": "❌ Error del servidor",
        "fetch-error": "❌ Error de red al actualizar el perfil.",
        "activating-2fa": "🟢 Activando autenticación de dos factores...",
        "2fa-enabled": "✅ 2FA activado. Verifica tu correo o aplicación de autenticación.",
        "backend-error": "❌ Error del servidor",
        "fetch-error": "❌ Error de red al activar 2FA.",
        "tournament-name": "Nombre del Torneo",
        "avatar-error": "Error al actualizar el avatar",
        "password-reset-email-sent": "Correo de restablecimiento de contraseña enviado",
        "password-reset-error": "Error al restablecer la contraseña",
        "tournament-options": "Opciones del Torneo",
        "join": "Unirse",
        "loginPasswordError": "Contraseña inválida",
        "new-username": "Nuevo Nombre de Usuario:",
        "loading": "Cargando...",
        "password": "Contraseña:",
        "back": "← Volver"
    },
    fr: {
        "logout": "Se déconnecter",
        "log-in-intra": "Connexion avec intra (42 School)",
        "profile-settings": "Paramètres du profil",
        "toggle-2fa": "Gérer l'authentification à deux facteurs",
        "game-modes": "Modes de jeu",
        "blockchain-tournaments": "Tournois Blockchain",
        "saved-tournaments": "Tournois Sauvegardés",
        "search-tournaments": "Rechercher par ID/Nom du Tournoi",
        "login": "Connexion",
        "log-in-email": "Se connecter avec email",
        "sign-up": "S'inscrire",
        "forgot-password": "Mot de passe oublié?",
        "use-2fa": "Utiliser l'authentification à deux facteurs",
        "enter-email": "Entrez votre email:",
        "enter-password": "Entrez votre mot de passe:",
        "enter-username": "Entrez un nom d'utilisateur:",
        "new-username" : "Nouveau nom d'utilisateur:",
        "new-username-placeholder": "Entrez un nouveau nom d'utilisateur",
        "confirm-2fa": "Voulez-vous activer l'authentification à deux facteurs?",
        "enable-2fa": "✅ 2FA Activé!",
        "disable-2fa": "❌ 2FA Désactivé.",
        "login-success": "✅ Connexion réussie!",
        "signup-success": "✅ Compte créé avec succès!",
        "invalid-credentials": "❌ Identifiants incorrects.",
        "recovery-email-sent": "📩 Email de récupération envoyé.",
        "language": "Langue",
        "username": "Nom d'utilisateur",
        "email": "Email",
        "password": "Mot de passe",
        "reset-password": "Réinitialiser votre mot de passe",
        "send-reset": "Envoyer le lien de réinitialisation",
        "edit-profile": "Modifier le profil",
        "edit-username": "Modifier le nom d'utilisateur",
        "edit-email": "Modifier l'email",
        "edit-password": "Modifier le mot de passe",
        "confirm-password": "Confirmer le mot de passe",
        "confirm-new-password": "Confirmer le nouveau mot de passe",
        "solo-ai": "Solo contre IA",
        "local": "Un contre Un Local",
        "online": "Un contre Un en Ligne",
        "create-tournament": "Créer un Tournoi",
        "join-tournament": "Rejoindre un Tournoi",
        "edit-username": "Modifier le nom d'utilisateur",
        "edit-username-placeholder": "Nouveau nom d'utilisateur",
        "edit-password": "Changer le mot de passe",
        "edit-password-placeholder": "Nouveau mot de passe",
        "password-requirements": "Le mot de passe doit comporter au moins 6 caractères, inclure une majuscule et un chiffre.",
        "password-too-short": "❌ Le mot de passe doit comporter au moins 6 caractères.",
        "password-no-uppercase": "❌ Le mot de passe doit inclure au moins une lettre majuscule.",
        "password-no-number": "❌ Le mot de passe doit inclure au moins un chiffre.",
        "confirm-password-empty": "❌ Le champ ne peut pas être vide.",
        "confirm-password-mismatch": "❌ Les mots de passe ne correspondent pas.",
        "current-password": "Mot de passe actuel",
        "new-password": "Nouveau mot de passe",
        "confirm-change": "Confirmer le changement",
        "2fa-message": "Voulez-vous activer l'authentification à deux facteurs ?",
        "edit-email": "Changer l'email",
        "edit-email-placeholder": "Nouvel email",
        "save-button": "Enregistrer",
        "cancel-button": "Annuler",
        "empty-field-alert": "Le champ ne peut pas être vide.",
        "change-avatar": "Changer d'avatar",  /* Nuevo, para el Avatar!! */
        "choose-file": "Choisir un fichier",
        "no-file-chosen": "Aucun fichier sélectionné",
        "avatar-updated": "✅ Avatar mis à jour avec succès !",
        "error-loading-tournaments": "Erreur lors du chargement des tournois",
        "reset-password": "Réinitialiser le mot de passe",
        "manage-2fa": "Gérer l'authentification à deux facteurs",
        "2fa-disabled": "Authentification à deux facteurs désactivée avec succès.",
        "2fa-enabled": "Authentification à deux facteurs activée avec succès.",
        "no-active-session": "Aucune session active.",
        "invalid-credentials": "Identifiants invalides.",
        "logout-completed": "Déconnexion terminée.",
        "password-changed": "Mot de passe changé avec succès!",
        "update-profile": "Profil mis à jour avec succès!",
        "validating-username": "Validation du nom d'utilisateur...",
        "username-empty": "❌ Le nom d'utilisateur ne peut pas être vide.",
        "username-range": "❌ Le nom d'utilisateur doit contenir entre 3 et 7 caractères.",
        "username-updated": "✅ Nom d'utilisateur mis à jour avec succès!",
        "backend-error": "❌ Erreur du serveur: ",
        "validating-username": "Validation du nom d'utilisateur...",
        "username-empty": "❌ Le nom d'utilisateur ne peut pas être vide.",
        "username-range": "❌ Le nom d'utilisateur doit contenir entre 3 et 7 caractères.",
        "username-updated": "✅ Nom d'utilisateur mis à jour avec succès!",
        "backend-error": "❌ Erreur du serveur: ",
        "email-invalid": "❌ Entrez un e-mail valide.",
        "password-invalid": "❌ Le mot de passe doit comporter au moins 6 caractères, une majuscule et un chiffre.",
        "password-mismatch": "❌ Les mots de passe ne correspondent pas.",
        "update-success": "✅ Modifications enregistrées avec succès!",
        "update-failed": "❌ Impossible d'enregistrer les modifications.",
        "username-too-long": "❌ Le nom d'utilisateur doit contenir un maximum de 7 caractères.",
        "error-email-element-missing": "❌ ERREUR : L'élément #emailError est introuvable dans le DOM.",
        "email-invalid": "❌ Veuillez entrer une adresse e-mail valide.",
        "password-min-length": "❌ Le mot de passe doit contenir au moins 6 caractères.",
        "password-uppercase-required": "❌ Le mot de passe doit contenir au moins une lettre majuscule.",
        "password-number-required": "❌ Le mot de passe doit contenir au moins un chiffre.",
        "password-empty": "❌ Le champ ne peut pas être vide.",
        "password-mismatch": "❌ Les mots de passe ne correspondent pas.",
        "username-max": "❌ Le nom d'utilisateur doit contenir un maximum de 7 caractères.",
        "email-invalid": "❌ Entrez un email valide.",
        "password-requirements": "❌ Le mot de passe doit contenir au moins 6 caractères, inclure une majuscule et un chiffre.",
        "password-confirm-empty": "❌ Vous devez confirmer le mot de passe.",
        "password-mismatch": "❌ Les mots de passe ne correspondent pas.",
        "sign-up-request": "🟢 Envoi de la demande d'inscription...",
        "sign-up-sending": "🔵 Envoi de la demande d'inscription pour {username}...",
        "sign-up-success": "✅ Bienvenue, {username} ! Votre compte a été créé.",
        "sign-up-error": "❌ Erreur lors de l'inscription",
        "sign-up-fetch-error": "❌ Erreur réseau lors de l'inscription",
        "debug-login-email-found": "✅ Debug: confirmLoginEmail trouvé",
        "email-invalid": "❌ Entrez un email valide.",
        "password-too-short": "❌ Le mot de passe doit comporter au moins 6 caractères.",
        "sending-login-request": "🟢 Envoi de la demande de connexion...",
        "invalid-credentials": "❌ Identifiants invalides.",
        "username-empty": "❌ Le nom d'utilisateur ne peut pas être vide.",
        "username-range": "❌ Le nom d'utilisateur doit comporter entre 3 et 7 caractères.",
        "sending-profile-update": "🟢 Envoi de la mise à jour du profil...",
        "profile-updated": "✅ Profil mis à jour avec succès !",
        "backend-error": "❌ Erreur du serveur",
        "fetch-error": "❌ Erreur réseau lors de la mise à jour du profil.",
        "activating-2fa": "🟢 Activation de l'authentification à deux facteurs...",
        "2fa-enabled": "✅ 2FA activé. Vérifiez votre e-mail ou votre application d'authentification.",
        "backend-error": "❌ Erreur du serveur",
        "fetch-error": "❌ Erreur réseau lors de l'activation de 2FA.",
        "tournament-name": "Nom du Tournoi",
        "avatar-error": "Erreur lors de la mise à jour de l'avatar",
        "password-reset-email-sent": "E-mail de réinitialisation du mot de passe envoyé",
        "password-reset-error": "Erreur de réinitialisation du mot de passe",
        "tournament-options": "Options du Tournoi",
        "join": "Rejoindre",
        "loginPasswordError": "Mot de passe invalide",
        "new-username": "Nouveau Nom d'Utilisateur:",
        "loading": "Chargement...",
        "password": "Mot de passe:",
        "back": "← Retour"
    }
};


// ✅ Función para obtener la traducción en el idioma actual
function getTranslation(key) {
    const lang = localStorage.getItem("language") || "en";
    return translations[lang][key] || key; // Si no hay traducción, usa la clave como fallback
}

// ✅ Función para cambiar el idioma globalmente
function setLanguage(lang) {
    if (!translations[lang]) return console.warn(`⚠️ Idioma no soportado: ${lang}`);

    localStorage.setItem("language", lang);
    applyLanguage();
}

// ✅ Función para aplicar el idioma a toda la web
function applyLanguage() {
    document.querySelectorAll("[data-translate]").forEach(element => {
        if (element.tagName !== "INPUT" || element.type !== "file") {
            element.textContent = getTranslation(element.getAttribute("data-translate"));
        }
    });
}



// ✅ Aplicar traducciones al cargar la página
document.addEventListener("DOMContentLoaded", applyLanguage);